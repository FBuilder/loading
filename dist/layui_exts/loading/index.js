layui.config({version:"v2.4.3",debug:!0,base:"../js/"}).extend({loading:"../loading"}).use(["jquery","colorpicker","form","element","laytpl","layedit","laydate","loading"],function(){function e(e,t){var i={},o=!1,n=e.serializeArray();return r.each(n,function(e,t){"imgSrcUrl"===t.name?o=t.value:parseInt(t.value)||0===parseInt(t.value)?i[t.name]=parseFloat(t.value):"cb"===t.name?i[t.value]=f[t.value]:i[t.name]=r.trim(t.value)}),!1!==o?i.imgSrc=o:"null"===i.imgSrc&&(i.imgSrc=null),void 0===i.opacity&&(i.opacity=0),0===i.opacity&&null===i.imgSrc&&""===i.text&&(i.text="\u906e\u7f69\u5c42\u3001\u56fe\u7247\u3001\u6587\u672c\u81f3\u5c11\u5f97\u5b58\u5728\u4e00\u9879\uff08\u5355\u51fb\u5173\u95ed\uff09",i.textCss={color:"red"},i.clickHide=1),i.textCss&&(i.textCss=new Function("return"+i.textCss)()),i.imgZIndex=i.overlayZIndex+1,r.each(i,function(e,t){(void 0===f[e]||f[e]===t&&"function"!=typeof f[e])&&delete i[e]}),t?function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?Function.prototype.toString.call(t):t},2).replace(/"function/g,"function").replace(/ }"/g," }")}(i):i}function t(e){CodeMirror.fromTextArea(e,{mode:"javascript",theme:"eclipse",extraKeys:{Tab:"autocomplete"},styleActiveLine:!0,smartIndent:!0,matchBrackets:!0,readOnly:!0})}function i(e,t){return r(document).scrollTop(r(e).offset().top-30),t&&l.tips(t,e,{tips:[3,"#c95050"],time:5e3}),t}function o(e,t){return e?r.ajax({url:e,data:t||{},async:!1}).responseText:void 0}var n,a=layui.form,r=layui.jquery,l=layui.layer,s=layui.element,c=layui.laytpl,u=layui.layedit,m=layui.laydate,d=layui.colorpicker,f={overlayClassName:"",imgClassName:"",background:"#fff",opacity:.6,text:"",textCss:"",textClassName:"",offsetTop:0,imgSrc:0,beforeShow:function(){l.msg("\u8fd9\u662f \u201c\u663e\u793a\u4e4b\u524d\u201d \u7684\u56de\u8c03")},afterShow:function(){setTimeout(function(){l.msg("\u8fd9\u662f \u201c\u663e\u793a\u4e4b\u540e\u201d \u7684\u56de\u8c03\uff08\u4e3a\u907f\u514d\u91cd\u53e0\u6b64\u5904\u5df2\u8bbe\u7f6e\u5ef6\u8fdf1s\uff09")},1e3)},imgZIndex:2e7,overlayZIndex:19999999,afterHide:function(){l.msg("\u8fd9\u662f \u201c\u9690\u85cf\u4e4b\u540e\u201d \u7684\u56de\u8c03")},afterHideAll:function(){l.msg("\u8fd9\u662f \u201c\u5168\u90e8\u9690\u85cf\u4e4b\u540e\u201d \u7684\u56de\u8c03")},animateTime:600,clickHide:0},y=r(window).loading("show",{opacity:.7,imgSrc:9,text:"\u6b63\u5728\u52a0\u8f7d\u7b2c\u4e09\u65b9\u9ad8\u4eae\u7ec4\u4ef6...",textCss:{color:"#666"},afterHide:function(){l.msg("\u9875\u9762\u52a0\u8f7d\u5b8c\u6210\uff0c\u8bf7\u5f00\u59cb\u5427\uff01")},offsetTop:16});a.on("submit(my-submit)",function(t){i(r("#my-show-1")[0]);var o=e(r("form"));return r("#my-show-1").loading("show",o),!1}),d.render({elem:"#bg-btn",color:"#fff",done:function(e){r("#bg-input").val(e)}}),m.render({elem:"#date"}),m.render({elem:"#date1"});var p=u.build("LAY_demo_editor");a.verify({opacity:function(e,t){if(!e&&!t.disabled)return i(t.nextSibling,"\u6709\u906e\u7f69\u5c42\u65f6\u8bf7\u8bbe\u7f6e\u201c\u906e\u7f69\u900f\u660e\u5ea6\u201d")},imgSrcUrl:function(e,t){if(!r.trim(e)&&!t.disabled)return t.value="",i(t,"\u5907\u9009\u56fe\u7247\u672a\u9009\u65f6\u8bf7\u8bbe\u7f6e\u201c\u56fe\u7247\u8def\u5f84\u201d")},test2:[/(.+){6,12}$/,"\u5bc6\u7801\u5fc5\u987b6\u523012\u4f4d"],test3:function(e){u.sync(p)}}),a.on("select(imgSrc)",function(e){var t=r('input[name="imgSrcUrl"]')[0];e.value?(t.disabled=!0,l.tips("\u6b64\u65f6\u4e0d\u53ef\u914d\u7f6eURL",t,{tips:[3,"#c95050"],time:3e3})):(t.disabled=!1,l.tips("\u53ef\u4ee5\u81ea\u5b9a\u4e49URL\u4e86",t,{tips:[3,"green"],time:3e3,end:function(){r(t).focus()}}))}),a.on("switch(switch)",function(e){var t=r('select[name="opacity"]')[0],i=r('input[name="overlayClassName"]')[0],o=r("#bg-input")[0],n=e.othis[0].innerText;i.disabled=o.disabled=t.disabled="\u6709\u906e\u7f69\u5c42"!==n,l.tips(n,e.othis,{tips:[1,"#000"]}),a.render("select")}),r("#my-close-all").on("click.closeAll",function(){r(window).loading("hideAll")}),r("#my-body").on("click.body",function(){var t=r(window).loading("show",e(r("form")));setTimeout(function(){t.hide()},3e3)}),r("#my-demo").on("click.demo",function(){i(r("#my-show-1")[0]);var e=r("#my-show-1").loading("show",{background:"green",imgSrc:null,textCss:{color:"#fff"},text:"\u6570\u636e\u5904\u7406\u4e2d..."});setTimeout(function(){e.hide()},3e3)}),r("#my-reset").on("click.reset",function(){l.msg("\u786e\u5b9a\u91cd\u7f6e\u60a8\u7684\u914d\u7f6e\u5417\uff1f",{time:0,shade:.5,anim:6,btn:["\u786e\u5b9a","\u53d6\u6d88"],yes:function(e){l.close(e),r("[disabled]").attr("disabled",!1),r('input[name="imgSrcUrl"]')[0].disabled=!0,setTimeout(function(){r("form")[0].reset()},50)}})}),r("#my-more").on("click.more",function(){r("div.my-show-ot").loading("show",e(r("form"))),setTimeout(function(){r(document).scrollTop(r("div.my-show-ot").offset().top),l.tips("\u591a\u533a\u57df\u663e\u793a\u6548\u679c",r("div.my-show-ot")[0],{tips:[1,"orange"],time:4e3,tipsMore:!0}),l.tips("\u591a\u533a\u57df\u663e\u793a\u6548\u679c",r("div.my-show-ot")[1],{tips:[1,"orange"],time:4e3,tipsMore:!0})},200)}),r("#my-layer").on("click.layer",function(){var t={title:"\u8eab\u4efd\u9a8c\u8bc1",user:{value:"admin",title:"\u5e10\u53f7",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},pw:{value:"123456",title:"\u5bc6\u7801",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",info:"\u5bc6\u7801\u957f\u5ea66\uff5e18\u4f4d"},btn:{submit:"\u63d0\u4ea4",reset:"\u53d6\u6d88"}};n||(n=o("form.tpl")),c(n).render(t,function(i){var o=l.open({type:1,title:t.title,shade:.6,anim:1,btn:[t.btn.submit,t.btn.reset],content:i,yes:function(t,i){var o=r("#layer-form").closest("div.layui-layer").loading("show",e(r("form")));setTimeout(function(){o.hide()},3e3)}});l.style(o,{width:"470px"}),setTimeout(function(){l.tips("\u70b9\u6b64\u8bd5\u8bd5",r("a.layui-layer-btn0")[0],{tips:[1,"orange"],time:2e3})},500)})}),s.on("tab(code-tab)",function(e){var i=r(e.elem[0]).find(".layui-tab-item:eq("+e.index+")"),o=i.find(".code")[0];!i.find(".CodeMirror").size()&&t(o)}),r(function(){r("textarea.auto-code").each(function(e,i){t(i)});var i="";setInterval(function(){i!=e(r("form"),"format")&&(r("#textarea").val(e(r("form"),"format")),r("#my-show-1").find(".CodeMirror").remove(),t(r("#textarea")[0]),i=e(r("form"),"format"))},1500),r(window).on("load",function(){y.destroy()})})});